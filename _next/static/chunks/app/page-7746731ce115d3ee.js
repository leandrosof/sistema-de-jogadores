(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2424:e=>{e.exports={header:"Header_header__072v2",logoContainer:"Header_logoContainer__V_0vt",logo:"Header_logo__0dir7"}},2923:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var t=a(5155),c=a(2115);a(6766),a(2424);var n=a(5799);function l(e){let{players:s,setPlayers:a}=e,[l,r]=(0,c.useState)(""),[i,o]=(0,c.useState)(!1),d=()=>{let e=l.trim();if(!e)return void n.oR.warning("Por favor, digite um nome v\xe1lido");if(s.some(s=>s.name.toLowerCase()===e.toLowerCase()))return void n.oR.error('O jogador "'.concat(e,'" j\xe1 est\xe1 cadastrado!'));let t={name:e,checked:!0,createdAt:new Date().getTime()};a([...s.filter(e=>e.checked),t,...s.filter(e=>!e.checked)]),n.oR.success('Jogador "'.concat(e,'" adicionado com sucesso!')),r("")},m=e=>{let t=s[e];a(s.map(e=>({...e,sortKey:e.checked===t.checked?e.createdAt:e.checked?1:-1})).map(e=>e.name===t.name?{...e,checked:!e.checked}:e).sort((e,s)=>e.checked!==s.checked?s.checked-e.checked:e.createdAt-s.createdAt))},h=e=>{if(e>0&&s[e].checked===s[e-1].checked){let t=[...s];[t[e],t[e-1]]=[t[e-1],t[e]],a(t)}},f=e=>{if(e<s.length-1&&s[e].checked===s[e+1].checked){let t=[...s];[t[e],t[e+1]]=[t[e+1],t[e]],a(t)}},u=e=>{let t=s[e],c=s.filter(e=>e.name!==t.name);t.checked?c.filter(e=>e.checked):c.filter(e=>!e.checked),a([...c.filter(e=>e.checked&&e.name!==t.name),...t.checked?[t]:[],...c.filter(e=>!e.checked&&e.name!==t.name),...t.checked?[]:[t]])},x=e=>{let t=[...s];t.splice(e,1),a(t)},j=[...s].sort((e,s)=>e.checked!==s.checked?s.checked-e.checked:e.createdAt-s.createdAt);return(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)(n.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,t.jsxs)("div",{className:"d-flex gap-2 mb-4",children:[(0,t.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Nome do Jogador",value:l,onChange:e=>r(e.target.value),onClick:e=>"Enter"===e.key&&d()}),(0,t.jsx)("button",{onClick:d,className:"btn btn-nucleo btn-nucleo-primary d-flex align-items-center justify-content-center",children:(0,t.jsx)("i",{className:"fas fa-plus text-white"})})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,t.jsx)("h2",{className:"mb-0",children:"Lista de Jogadores"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>o(!i),className:"btn btn-secondary btn-sm me-2",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-eye-slash me-1"})," Ocultar A\xe7\xf5es"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-eye me-1"})," Mostrar A\xe7\xf5es"]})}),(0,t.jsxs)("button",{onClick:()=>{a(s.map(e=>({...e,checked:!1})))},className:"btn btn-warning btn-sm",children:[(0,t.jsx)("i",{className:"fas fa-times-circle me-1"})," Desmarcar Todos"]})]})]}),(0,t.jsx)("ul",{className:"list-group",children:j.map((e,a)=>(0,t.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center ".concat(e.checked?"bg-light":""),children:[(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.checked,onChange:()=>m(s.findIndex(s=>s.name===e.name)),className:"form-check-input me-3",style:{transform:"scale(1.3)"}}),(0,t.jsx)("span",{className:"h5 mb-0",children:e.name})]}),i&&(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>h(s.findIndex(s=>s.name===e.name)),className:"btn btn-info btn-sm",title:"Mover para cima",disabled:0===a||e.checked!==j[a-1].checked,children:(0,t.jsx)("i",{className:"fas fa-arrow-up"})}),(0,t.jsx)("button",{onClick:()=>f(s.findIndex(s=>s.name===e.name)),className:"btn btn-info btn-sm",title:"Mover para baixo",disabled:a===j.length-1||e.checked!==j[a+1].checked,children:(0,t.jsx)("i",{className:"fas fa-arrow-down"})}),(0,t.jsx)("button",{onClick:()=>u(s.findIndex(s=>s.name===e.name)),className:"btn btn-secondary btn-sm",title:"Mover para o final do grupo",children:(0,t.jsx)("i",{className:"fas fa-sign-in-alt"})}),(0,t.jsx)("button",{onClick:()=>x(s.findIndex(s=>s.name===e.name)),className:"btn btn-danger btn-sm",title:"Remover jogador",children:(0,t.jsx)("i",{className:"fas fa-trash"})})]})]},"".concat(e.name,"-").concat(a)))})]})}function r(e){let{players:s,setPlayers:a,playersPerTeam:n}=e,[l,r]=(0,c.useState)([]),[i,o]=(0,c.useState)([]),[d,m]=(0,c.useState)([]),[h,f]=(0,c.useState)([]),u=(0,c.useRef)([]),x=(0,c.useRef)(-1);(0,c.useEffect)(()=>{let e=s.filter(e=>e.checked);f(s.filter(e=>!e.checked)),r(e.slice(0,n)),o(e.slice(n,2*n)),m(e.slice(2*n))},[s,n]),(0,c.useEffect)(()=>{if(-1===x.current){x.current=0,u.current=[s];return}JSON.stringify(s)!==JSON.stringify(u.current[x.current])&&(u.current=u.current.slice(0,x.current+1),u.current.push(s),x.current++)},[s]);let j=e=>{if(0===d.length)return void alert("N\xe3o h\xe1 jogadores reservas suficientes!");let t=[...d],c=[...l],h=[...i],f=[];if("A"===e){let e=c.splice(0,n);t.push(...e),r(f=t.splice(0,n))}else{let e=h.splice(0,n);t.push(...e),o(f=t.splice(0,n))}a([..."A"===e?f:c,..."B"===e?f:h,...t,...s.filter(e=>!e.checked)]),m(t)};return(0,t.jsxs)("div",{className:"card mt-4",children:[(0,t.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,t.jsx)("h3",{className:"mb-0",children:"Gerenciamento de Times"}),(0,t.jsxs)("div",{children:[x.current>0&&(0,t.jsxs)("button",{onClick:()=>{x.current<=0||(x.current--,a(u.current[x.current]))},className:"btn btn-secondary me-2",title:"Desfazer \xfaltima a\xe7\xe3o",children:[(0,t.jsx)("i",{className:"fas fa-undo me-2"}),"Desfazer"]}),(0,t.jsxs)("button",{onClick:()=>{let e=[...l,...i].sort(()=>Math.random()-.5),s=e.slice(0,n),t=e.slice(n,2*n);r(s),o(t),a([...s,...t,...d,...h])},className:"btn btn-primary me-2",children:[(0,t.jsx)("i",{className:"fas fa-random me-2"}),"Sortear A x B"]}),(0,t.jsxs)("button",{onClick:()=>j("A"),className:"btn btn-lost me-2",disabled:0===d.length,children:[(0,t.jsx)("i",{className:"fas fa-flag me-2"}),"Time A Perdeu"]}),(0,t.jsxs)("button",{onClick:()=>j("B"),className:"btn btn-lost",disabled:0===d.length,children:[(0,t.jsx)("i",{className:"fas fa-flag me-2"}),"Time B Perdeu"]})]})]}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("h4",{className:"text-center text-success",children:"Time A"}),(0,t.jsx)("ul",{className:"list-group",children:l.map((e,s)=>(0,t.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,t.jsx)("span",{children:(null==e?void 0:e.name)||"Vaga"}),d.length>0&&(0,t.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{let e=[...d],t=e.shift(),c=[...l];e.push(c[s]),c[s]=t,r(c),m(e),a([...c,...i,...e,...h])},children:(0,t.jsx)("i",{className:"fas fa-sync-alt"})})]},s))})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("h4",{className:"text-center text-success",children:"Time B"}),(0,t.jsx)("ul",{className:"list-group",children:i.map((e,s)=>(0,t.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,t.jsx)("span",{children:(null==e?void 0:e.name)||"Vaga"}),d.length>0&&(0,t.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{let e=[...d],t=e.shift(),c=[...i];e.push(c[s]),c[s]=t,o(c),m(e),a([...l,...c,...e,...h])},children:(0,t.jsx)("i",{className:"fas fa-sync-alt"})})]},s))})]})]}),d.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h4",{children:"Reservas"}),(0,t.jsx)("div",{className:"flex flex-col gap-4",children:Array.from({length:Math.ceil(d.length/n)}).map((e,s)=>{let a=String.fromCharCode(67+s),c=d.slice(s*n,(s+1)*n);return(0,t.jsxs)("div",{className:"mb-4 p-4 border rounded-lg shadow-sm bg-gray-50",children:[(0,t.jsxs)("span",{className:"text-xl font-semibold text-blue-600",children:["Time ",a,":"," "]}),(0,t.jsx)("div",{className:"mt-2 text-gray-700",children:c.map((e,s)=>e.name).join(", ")})]},s)})})]})]})]})}function i(e){let{playersPerTeam:s,setPlayersPerTeam:a,players:n,setPlayers:l}=e,r=(0,c.useRef)(null);return(0,t.jsxs)("div",{className:"config-panel mt-4",children:[(0,t.jsx)("h3",{className:"mb-4",children:"Configura\xe7\xf5es"}),(0,t.jsxs)("div",{className:"config-option",children:[(0,t.jsx)("label",{className:"form-label",children:"Jogadores por time:"}),(0,t.jsx)("input",{type:"number",min:"1",className:"form-control",value:s,onChange:e=>a(parseInt(e.target.value)||1)})]}),(0,t.jsxs)("div",{className:"config-option mt-4",children:[(0,t.jsx)("h5",{children:"Importar/Exportar"}),(0,t.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,t.jsxs)("button",{onClick:()=>{let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),s="nucleofc-jogadores-".concat(new Date().toLocaleDateString(),".json"),a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download",s),a.click()},className:"btn btn-import-export",disabled:0===n.length,children:[(0,t.jsx)("i",{className:"fas fa-file-export me-2"}),"Exportar"]}),(0,t.jsxs)("button",{onClick:()=>r.current.click(),className:"btn btn-import-export",children:[(0,t.jsx)("i",{className:"fas fa-file-import me-2"}),"Importar"]}),(0,t.jsx)("input",{type:"file",ref:r,onChange:e=>{let s=new FileReader;s.readAsText(e.target.files[0],"UTF-8"),s.onload=e=>{try{let s=JSON.parse(e.target.result);Array.isArray(s)?(l(s),alert("Jogadores importados com sucesso!")):alert("Formato de arquivo inv\xe1lido!")}catch(e){alert("Erro ao importar jogadores!")}}},accept:".json",style:{display:"none"}})]})]}),(0,t.jsxs)("div",{className:"config-option mt-4",children:[(0,t.jsx)("h5",{children:"Limpar Dados"}),(0,t.jsxs)("button",{onClick:()=>{confirm("Tem certeza que deseja remover TODOS os jogadores?")&&l([])},className:"btn btn-danger",disabled:0===n.length,children:[(0,t.jsx)("i",{className:"fas fa-trash-alt me-2"}),"Limpar Todos os Jogadores"]})]})]})}a(5716);let o=e=>{localStorage.setItem("players",JSON.stringify(e))},d=()=>JSON.parse(localStorage.getItem("players"))||[],m=e=>{localStorage.setItem("playersPerTeam",e.toString())},h=()=>parseInt(localStorage.getItem("playersPerTeam"))||5;function f(){let[e,s]=(0,c.useState)([]),[a,n]=(0,c.useState)(5),[f,u]=(0,c.useState)("players");return(0,c.useEffect)(()=>{s(d()),n(h())},[]),(0,c.useEffect)(()=>o(e),[e]),(0,c.useEffect)(()=>m(a),[a]),(0,t.jsxs)("main",{children:[(0,t.jsxs)("ul",{className:"nav nav-tabs",children:[(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("button",{className:"nav-link ".concat("players"===f?"active":""),onClick:()=>u("players"),children:[(0,t.jsx)("i",{className:"fas fa-users me-2"}),"Jogadores"]})}),(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("button",{className:"nav-link ".concat("teams"===f?"active":""),onClick:()=>u("teams"),children:[(0,t.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Times"]})}),(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("button",{className:"nav-link ".concat("config"===f?"active":""),onClick:()=>u("config"),children:[(0,t.jsx)("i",{className:"fas fa-cog me-2"}),"Configura\xe7\xf5es"]})})]}),(0,t.jsxs)("div",{className:"container mt-3",children:["players"===f&&(0,t.jsx)(l,{players:e,setPlayers:s}),"teams"===f&&(0,t.jsx)(r,{players:e,setPlayers:s,playersPerTeam:a}),"config"===f&&(0,t.jsx)(i,{playersPerTeam:a,setPlayersPerTeam:n,players:e,setPlayers:s})]})]})}},3826:(e,s,a)=>{Promise.resolve().then(a.bind(a,2923))}},e=>{var s=s=>e(e.s=s);e.O(0,[999,63,809,441,684,358],()=>s(3826)),_N_E=e.O()}]);