(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2641:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(5155),c=t(2115),n=t(5799);t(5716);var l=t(7489),r=t(3578);function i(e){let{players:s,setPlayers:t}=e,[i,o]=(0,c.useState)(""),[d,m]=(0,c.useState)(!1),h=()=>{let e=i.trim();if(!e)return void n.oR.warning("Por favor, digite um nome v\xe1lido");if(s.some(s=>s.name.toLowerCase()===e.toLowerCase()))return void n.oR.error('O jogador "'.concat(e,'" j\xe1 est\xe1 cadastrado!'));let a={name:e,checked:!0,createdAt:new Date().getTime()};t([...s.filter(e=>e.checked),a,...s.filter(e=>!e.checked)]),n.oR.success('Jogador "'.concat(e,'" adicionado com sucesso!')),o("")},u=e=>{let a=s[e];t(s.map(e=>({...e,sortKey:e.checked===a.checked?e.createdAt:e.checked?1:-1})).map(e=>e.name===a.name?{...e,checked:!e.checked}:e).sort((e,s)=>e.checked!==s.checked?s.checked-e.checked:e.createdAt-s.createdAt))},x=e=>{if(e>0&&s[e].checked===s[e-1].checked){let a=[...s];[a[e],a[e-1]]=[a[e-1],a[e]],t(a)}},j=e=>{if(e<s.length-1&&s[e].checked===s[e+1].checked){let a=[...s];[a[e],a[e+1]]=[a[e+1],a[e]],t(a)}},g=e=>{let a=s[e],c=s.filter(e=>e.name!==a.name);a.checked?c.filter(e=>e.checked):c.filter(e=>!e.checked),t([...c.filter(e=>e.checked&&e.name!==a.name),...a.checked?[a]:[],...c.filter(e=>!e.checked&&e.name!==a.name),...a.checked?[]:[a]])},f=e=>{let a=[...s];a.splice(e,1),t(a)},p=[...s].sort((e,s)=>e.checked!==s.checked?s.checked-e.checked:e.createdAt-s.createdAt);return(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)(n.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,a.jsxs)("div",{className:"d-flex gap-2 mb-4",children:[(0,a.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Nome do Jogador",value:i,onChange:e=>o(e.target.value),onClick:e=>"Enter"===e.key&&h()}),(0,a.jsx)("button",{onClick:h,className:"btn btn-nucleo btn-nucleo-primary d-flex align-items-center justify-content-center",children:(0,a.jsx)(l.g,{icon:r.QLR,className:"text-white"})})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,a.jsx)("h2",{className:"mb-0",children:"Lista de Jogadores"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>m(!d),className:"btn btn-secondary btn-sm me-2",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.g,{icon:r.k6j,className:"me-1"})," Ocultar A\xe7\xf5es"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.g,{icon:r.pS3,className:"me-1"})," Mostrar A\xe7\xf5es"]})}),(0,a.jsxs)("button",{onClick:()=>{t(s.map(e=>({...e,checked:!1})))},className:"btn btn-warning btn-sm",children:[(0,a.jsx)(l.g,{icon:r.s0Q,className:"me-1"})," Desmarcar Todos"]})]})]}),(0,a.jsx)("ul",{className:"list-group",children:p.map((e,t)=>(0,a.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center ".concat(e.checked?"bg-light":""),children:[(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.checked,onChange:()=>u(s.findIndex(s=>s.name===e.name)),className:"form-check-input me-3",style:{transform:"scale(1.3)"}}),(0,a.jsx)("span",{className:"h5 mb-0",children:e.name})]}),d&&(0,a.jsxs)("div",{className:"d-flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>x(s.findIndex(s=>s.name===e.name)),className:"btn btn-info btn-sm",title:"Mover para cima",disabled:0===t||e.checked!==p[t-1].checked,children:(0,a.jsx)(l.g,{icon:r.INu})}),(0,a.jsx)("button",{onClick:()=>j(s.findIndex(s=>s.name===e.name)),className:"btn btn-info btn-sm",title:"Mover para baixo",disabled:t===p.length-1||e.checked!==p[t+1].checked,children:(0,a.jsx)(l.g,{icon:r.B0C})}),(0,a.jsx)("button",{onClick:()=>g(s.findIndex(s=>s.name===e.name)),className:"btn btn-secondary btn-sm",title:"Mover para o final do grupo",children:(0,a.jsx)(l.g,{icon:r.rhE})}),(0,a.jsx)("button",{onClick:()=>f(s.findIndex(s=>s.name===e.name)),className:"btn btn-danger btn-sm",title:"Remover jogador",children:(0,a.jsx)(l.g,{icon:r.yLS})})]})]},"".concat(e.name,"-").concat(t)))})]})}function o(e){let{players:s,setPlayers:t,playersPerTeam:n}=e,[i,o]=(0,c.useState)([]),[d,m]=(0,c.useState)([]),[h,u]=(0,c.useState)([]),[x,j]=(0,c.useState)([]),g=(0,c.useRef)([]),f=(0,c.useRef)(-1);(0,c.useEffect)(()=>{let e=s.filter(e=>e.checked);j(s.filter(e=>!e.checked)),o(e.slice(0,n)),m(e.slice(n,2*n)),u(e.slice(2*n))},[s,n]),(0,c.useEffect)(()=>{if(-1===f.current){f.current=0,g.current=[s];return}JSON.stringify(s)!==JSON.stringify(g.current[f.current])&&(g.current=g.current.slice(0,f.current+1),g.current.push(s),f.current++)},[s]);let p=e=>{if(0===h.length)return void alert("N\xe3o h\xe1 jogadores reservas suficientes!");let a=[...h],c=[...i],l=[...d],r=[];if("A"===e){let e=c.splice(0,n);a.push(...e),o(r=a.splice(0,n))}else{let e=l.splice(0,n);a.push(...e),m(r=a.splice(0,n))}t([..."A"===e?r:c,..."B"===e?r:l,...a,...s.filter(e=>!e.checked)]),u(a)};return(0,a.jsxs)("div",{className:"card mt-4",children:[(0,a.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,a.jsx)("h3",{className:"mb-0",children:"Gerenciamento de Times"}),(0,a.jsxs)("div",{children:[f.current>0&&(0,a.jsxs)("button",{onClick:()=>{f.current<=0||(f.current--,t(g.current[f.current]))},className:"btn btn-secondary me-2",title:"Desfazer \xfaltima a\xe7\xe3o",children:[(0,a.jsx)(l.g,{icon:r.U23,className:"me-2"})," Desfazer"]}),(0,a.jsxs)("button",{onClick:()=>{let e=[...i,...d].sort(()=>Math.random()-.5),s=e.slice(0,n),a=e.slice(n,2*n);o(s),m(a),t([...s,...a,...h,...x])},className:"btn btn-primary me-2",children:[(0,a.jsx)(l.g,{icon:r.fKj,className:"me-2"})," Sortear A x B"]}),(0,a.jsxs)("button",{onClick:()=>p("A"),className:"btn btn-lost me-2",disabled:0===h.length,children:[(0,a.jsx)(l.g,{icon:r.s6x,className:"me-2"})," Time A Perdeu"]}),(0,a.jsxs)("button",{onClick:()=>p("B"),className:"btn btn-lost",disabled:0===h.length,children:[(0,a.jsx)(l.g,{icon:r.s6x,className:"me-2"})," Time B Perdeu"]})]})]}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsx)("h4",{className:"text-center text-success",children:"Time A"}),(0,a.jsx)("ul",{className:"list-group",children:i.map((e,s)=>(0,a.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,a.jsx)("span",{children:(null==e?void 0:e.name)||"Vaga"}),h.length>0&&(0,a.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{let e=[...h],a=e.shift(),c=[...i];e.push(c[s]),c[s]=a,o(c),u(e),t([...c,...d,...e,...x])},children:(0,a.jsx)(l.g,{icon:r.OtC})})]},s))})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsx)("h4",{className:"text-center text-success",children:"Time B"}),(0,a.jsx)("ul",{className:"list-group",children:d.map((e,s)=>(0,a.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,a.jsx)("span",{children:(null==e?void 0:e.name)||"Vaga"}),h.length>0&&(0,a.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{let e=[...h],a=e.shift(),c=[...d];e.push(c[s]),c[s]=a,m(c),u(e),t([...i,...c,...e,...x])},children:(0,a.jsx)(l.g,{icon:r.OtC})})]},s))})]})]}),h.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{children:"Reservas"}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:Array.from({length:Math.ceil(h.length/n)}).map((e,s)=>{let t=String.fromCharCode(67+s),c=h.slice(s*n,(s+1)*n);return(0,a.jsxs)("div",{className:"mb-4 p-4 border rounded-lg shadow-sm bg-gray-50",children:[(0,a.jsxs)("span",{className:"text-xl font-semibold text-blue-600",children:["Time ",t,":"," "]}),(0,a.jsx)("div",{className:"mt-2 text-gray-700",children:c.map((e,s)=>e.name).join(", ")})]},s)})})]})]})]})}function d(e){let{playersPerTeam:s,setPlayersPerTeam:t,players:n,setPlayers:i}=e,o=(0,c.useRef)(null);return(0,a.jsxs)("div",{className:"config-panel mt-4",children:[(0,a.jsx)("h3",{className:"mb-4",children:"Configura\xe7\xf5es"}),(0,a.jsxs)("div",{className:"config-option",children:[(0,a.jsx)("label",{className:"form-label",children:"Jogadores por time:"}),(0,a.jsx)("input",{type:"number",min:"1",className:"form-control",value:s,onChange:e=>t(parseInt(e.target.value)||1)})]}),(0,a.jsxs)("div",{className:"config-option mt-4",children:[(0,a.jsx)("h5",{children:"Importar/Exportar"}),(0,a.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,a.jsxs)("button",{onClick:()=>{let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),s="nucleofc-jogadores-".concat(new Date().toLocaleDateString(),".json"),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",s),t.click()},className:"btn btn-import-export",disabled:0===n.length,children:[(0,a.jsx)(l.g,{icon:r.o1d,className:"me-2"}),"Exportar"]}),(0,a.jsxs)("button",{onClick:()=>o.current.click(),className:"btn btn-import-export",children:[(0,a.jsx)(l.g,{icon:r.$MS,className:"me-2"}),"Importar"]}),(0,a.jsx)("input",{type:"file",ref:o,onChange:e=>{let s=new FileReader;s.readAsText(e.target.files[0],"UTF-8"),s.onload=e=>{try{let s=JSON.parse(e.target.result);Array.isArray(s)?(i(s),alert("Jogadores importados com sucesso!")):alert("Formato de arquivo inv\xe1lido!")}catch(e){alert("Erro ao importar jogadores!")}}},accept:".json",style:{display:"none"}})]})]}),(0,a.jsxs)("div",{className:"config-option mt-4",children:[(0,a.jsx)("h5",{children:"Limpar Dados"}),(0,a.jsxs)("button",{onClick:()=>{confirm("Tem certeza que deseja remover TODOS os jogadores?")&&i([])},className:"btn btn-danger",disabled:0===n.length,children:[(0,a.jsx)(l.g,{icon:r.BeE,className:"me-2"}),"Limpar Todos os Jogadores"]})]})]})}let m=e=>{localStorage.setItem("players",JSON.stringify(e))},h=()=>JSON.parse(localStorage.getItem("players"))||[],u=e=>{localStorage.setItem("playersPerTeam",e.toString())},x=()=>parseInt(localStorage.getItem("playersPerTeam"))||5;function j(){let[e,s]=(0,c.useState)([]),[t,n]=(0,c.useState)(5),[l,r]=(0,c.useState)("players");return(0,c.useEffect)(()=>{s(h()),n(x())},[]),(0,c.useEffect)(()=>m(e),[e]),(0,c.useEffect)(()=>u(t),[t]),(0,a.jsxs)("main",{children:[(0,a.jsxs)("ul",{className:"nav nav-tabs",children:[(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsxs)("button",{className:"nav-link ".concat("players"===l?"active":""),onClick:()=>r("players"),children:[(0,a.jsx)("i",{className:"fas fa-users me-2"}),"Jogadores"]})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsxs)("button",{className:"nav-link ".concat("teams"===l?"active":""),onClick:()=>r("teams"),children:[(0,a.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Times"]})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsxs)("button",{className:"nav-link ".concat("config"===l?"active":""),onClick:()=>r("config"),children:[(0,a.jsx)("i",{className:"fas fa-cog me-2"}),"Configura\xe7\xf5es"]})})]}),(0,a.jsxs)("div",{className:"container mt-3",children:["players"===l&&(0,a.jsx)(i,{players:e,setPlayers:s}),"teams"===l&&(0,a.jsx)(o,{players:e,setPlayers:s,playersPerTeam:t}),"config"===l&&(0,a.jsx)(d,{playersPerTeam:t,setPlayersPerTeam:n,players:e,setPlayers:s})]})]})}},3826:(e,s,t)=>{Promise.resolve().then(t.bind(t,2641))}},e=>{var s=s=>e(e.s=s);e.O(0,[797,266,190,441,684,358],()=>s(3826)),_N_E=e.O()}]);