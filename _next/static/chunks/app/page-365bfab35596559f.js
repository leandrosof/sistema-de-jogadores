(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2641:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var t=a(5155),n=a(2115),c=a(5799);a(5716);var l=a(7489),r=a(3578);function i(e){let{players:s,setPlayers:a}=e,[i,o]=(0,n.useState)(""),[d,m]=(0,n.useState)(!1),h=()=>{let e=i.trim();if(!e)return void c.oR.warning("Por favor, digite um nome v\xe1lido");if(s.some(s=>s.name.toLowerCase()===e.toLowerCase()))return void c.oR.error('O jogador "'.concat(e,'" j\xe1 est\xe1 cadastrado!'));let t={name:e,checked:!0,createdAt:new Date().getTime()};a([...s.filter(e=>e.checked),t,...s.filter(e=>!e.checked)]),c.oR.success('Jogador "'.concat(e,'" adicionado com sucesso!')),o("")},x=e=>{let t=s[e];a(s.map(e=>({...e,sortKey:e.checked===t.checked?e.createdAt:e.checked?1:-1})).map(e=>e.name===t.name?{...e,checked:!e.checked}:e).sort((e,s)=>e.checked!==s.checked?s.checked-e.checked:e.createdAt-s.createdAt))},u=e=>{if(e>0&&s[e].checked===s[e-1].checked){let t=[...s];[t[e],t[e-1]]=[t[e-1],t[e]],a(t)}},j=e=>{if(e<s.length-1&&s[e].checked===s[e+1].checked){let t=[...s];[t[e],t[e+1]]=[t[e+1],t[e]],a(t)}},g=e=>{let t=s[e],n=s.filter(e=>e.name!==t.name);t.checked?n.filter(e=>e.checked):n.filter(e=>!e.checked),a([...n.filter(e=>e.checked&&e.name!==t.name),...t.checked?[t]:[],...n.filter(e=>!e.checked&&e.name!==t.name),...t.checked?[]:[t]])},f=e=>{let t=[...s];t.splice(e,1),a(t)},p=[...s].sort((e,s)=>e.checked!==s.checked?s.checked-e.checked:e.createdAt-s.createdAt);return(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)(c.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,t.jsxs)("div",{className:"d-flex gap-2 mb-4",children:[(0,t.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Nome do Jogador",value:i,onChange:e=>o(e.target.value),onClick:e=>"Enter"===e.key&&h()}),(0,t.jsx)("button",{onClick:h,className:"btn d-flex align-items-center justify-content-center bg-success",children:(0,t.jsx)(l.g,{icon:r.QLR,className:"text-white"})})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,t.jsx)("h2",{className:"mb-0",children:"Lista de Jogadores"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>m(!d),className:"btn btn-secondary btn-sm me-2",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.g,{icon:r.k6j,className:"me-1"}),"A\xe7\xf5es"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.g,{icon:r.pS3,className:"me-1"})," A\xe7\xf5es"]})}),d&&(0,t.jsxs)("button",{onClick:()=>{a(s.map(e=>({...e,checked:!1})))},className:"btn btn-warning btn-sm",children:[(0,t.jsx)(l.g,{icon:r.s0Q,className:"me-1"})," ","Desmarcar Todos"]})]})]}),(0,t.jsx)("ul",{className:"list-group",children:p.map((e,a)=>(0,t.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center ".concat(e.checked?"bg-light":""),children:[(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.checked,onChange:()=>x(s.findIndex(s=>s.name===e.name)),className:"form-check-input me-3",style:{transform:"scale(1.3)"}}),(0,t.jsx)("span",{className:"h5 mb-0",children:e.name})]}),d&&(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>u(s.findIndex(s=>s.name===e.name)),className:"btn btn-info btn-sm",title:"Mover para cima",disabled:0===a||e.checked!==p[a-1].checked,children:(0,t.jsx)(l.g,{icon:r.INu})}),(0,t.jsx)("button",{onClick:()=>j(s.findIndex(s=>s.name===e.name)),className:"btn btn-info btn-sm",title:"Mover para baixo",disabled:a===p.length-1||e.checked!==p[a+1].checked,children:(0,t.jsx)(l.g,{icon:r.B0C})}),(0,t.jsx)("button",{onClick:()=>g(s.findIndex(s=>s.name===e.name)),className:"btn btn-secondary btn-sm",title:"Mover para o final do grupo",children:(0,t.jsx)(l.g,{icon:r.rhE})}),(0,t.jsx)("button",{onClick:()=>f(s.findIndex(s=>s.name===e.name)),className:"btn btn-danger btn-sm",title:"Remover jogador",children:(0,t.jsx)(l.g,{icon:r.yLS})})]})]},"".concat(e.name,"-").concat(a)))})]})}function o(e){let{players:s,setPlayers:a,playersPerTeam:c}=e,[i,o]=(0,n.useState)([]),[d,m]=(0,n.useState)([]),[h,x]=(0,n.useState)([]),[u,j]=(0,n.useState)([]),g=(0,n.useRef)([]),f=(0,n.useRef)(-1);(0,n.useEffect)(()=>{let e=s.filter(e=>e.checked);j(s.filter(e=>!e.checked)),o(e.slice(0,c)),m(e.slice(c,2*c)),x(e.slice(2*c))},[s,c]),(0,n.useEffect)(()=>{if(-1===f.current){f.current=0,g.current=[s];return}JSON.stringify(s)!==JSON.stringify(g.current[f.current])&&(g.current=g.current.slice(0,f.current+1),g.current.push(s),f.current++)},[s]);let p=e=>{if(0===h.length)return void alert("N\xe3o h\xe1 jogadores reservas suficientes!");let t=[...h],n=[...i],l=[...d],r=[];if("A"===e){let e=n.splice(0,c);t.push(...e),o(r=t.splice(0,c))}else{let e=l.splice(0,c);t.push(...e),m(r=t.splice(0,c))}a([..."A"===e?r:n,..."B"===e?r:l,...t,...s.filter(e=>!e.checked)]),x(t)};return(0,t.jsxs)("div",{className:"card mt-4",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h3",{className:"mb-3 text-center text-md-start",children:"Gerenciamento de Times"}),(0,t.jsxs)("div",{className:"d-flex flex-column flex-md-row gap-2 justify-content-center justify-content-md-end align-items-center",children:[(0,t.jsxs)("button",{onClick:()=>{let e=[...i,...d].sort(()=>Math.random()-.5),s=e.slice(0,c),t=e.slice(c,2*c);o(s),m(t),a([...s,...t,...h,...u])},className:"btn btn-primary btn-sm",children:[(0,t.jsx)(l.g,{icon:r.fKj,className:"me-1"}),(0,t.jsx)("span",{className:"d-none d-sm-inline",children:"Sortear"})," A x B"]}),(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>p("A"),className:"btn btn-danger btn-sm",disabled:0===h.length,children:[(0,t.jsx)(l.g,{icon:r.s6x,className:"me-1"}),(0,t.jsx)("span",{className:"d-none d-sm-inline",children:"Time"})," A Perdeu"]}),(0,t.jsxs)("button",{onClick:()=>p("B"),className:"btn btn-danger btn-sm",disabled:0===h.length,children:[(0,t.jsx)(l.g,{icon:r.s6x,className:"me-1"}),(0,t.jsx)("span",{className:"d-none d-sm-inline",children:"Time"})," B Perdeu"]}),f.current>0&&(0,t.jsxs)("button",{onClick:()=>{f.current<=0||(f.current--,a(g.current[f.current]))},className:"btn btn-secondary btn-sm",title:"Desfazer \xfaltima a\xe7\xe3o",children:[(0,t.jsx)(l.g,{icon:r.U23,className:"me-1"}),(0,t.jsx)("span",{className:"d-none d-sm-inline",children:"Desfazer"})]})]})]})]}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("h4",{className:"text-center text-success",children:"Time A"}),(0,t.jsx)("ul",{className:"list-group",children:i.map((e,s)=>(0,t.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[h.length>0&&(0,t.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{let e=[...h],t=e.shift(),n=[...i];e.push(n[s]),n[s]=t,o(n),x(e),a([...n,...d,...e,...u])},children:(0,t.jsx)(l.g,{icon:r.OtC})}),(0,t.jsx)("span",{children:(null==e?void 0:e.name)||"Vaga"})]},s))})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("h4",{className:"text-center text-success",children:"Time B"}),(0,t.jsx)("ul",{className:"list-group",children:d.map((e,s)=>(0,t.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[h.length>0&&(0,t.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{let e=[...h],t=e.shift(),n=[...d];e.push(n[s]),n[s]=t,m(n),x(e),a([...i,...n,...e,...u])},children:(0,t.jsx)(l.g,{icon:r.OtC})}),(0,t.jsx)("span",{children:(null==e?void 0:e.name)||"Vaga"})]},s))})]})]}),h.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h4",{children:"Reservas"}),(0,t.jsx)("div",{className:"flex flex-col gap-4",children:Array.from({length:Math.ceil(h.length/c)}).map((e,s)=>{let a=String.fromCharCode(67+s),n=h.slice(s*c,(s+1)*c);return(0,t.jsxs)("div",{className:"mb-4 p-4 border rounded-lg shadow-sm bg-gray-50",children:[(0,t.jsxs)("span",{className:"text-xl font-semibold text-blue-600",children:["Time ",a,":"," "]}),(0,t.jsx)("div",{className:"mt-2 text-gray-700",children:n.map((e,s)=>e.name).join(", ")})]},s)})})]})]})]})}function d(e){let{playersPerTeam:s,setPlayersPerTeam:a,players:c,setPlayers:i}=e,o=(0,n.useRef)(null);return(0,t.jsxs)("div",{className:"config-panel mt-4",children:[(0,t.jsx)("h3",{className:"mb-4",children:"Configura\xe7\xf5es"}),(0,t.jsxs)("div",{className:"config-option",children:[(0,t.jsx)("label",{className:"form-label",children:"Jogadores por time:"}),(0,t.jsx)("input",{type:"number",min:"1",className:"form-control",value:s,onChange:e=>a(parseInt(e.target.value)||1)})]}),(0,t.jsxs)("div",{className:"config-option mt-4",children:[(0,t.jsx)("h5",{children:"Importar/Exportar"}),(0,t.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,t.jsxs)("button",{onClick:()=>{let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(c,null,2)),s="nucleofc-jogadores-".concat(new Date().toLocaleDateString(),".json"),a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download",s),a.click()},className:"btn btn-import-export",disabled:0===c.length,children:[(0,t.jsx)(l.g,{icon:r.o1d,className:"me-2"}),"Exportar"]}),(0,t.jsxs)("button",{onClick:()=>o.current.click(),className:"btn btn-import-export",children:[(0,t.jsx)(l.g,{icon:r.$MS,className:"me-2"}),"Importar"]}),(0,t.jsx)("input",{type:"file",ref:o,onChange:e=>{let s=new FileReader;s.readAsText(e.target.files[0],"UTF-8"),s.onload=e=>{try{let s=JSON.parse(e.target.result);Array.isArray(s)?(i(s),alert("Jogadores importados com sucesso!")):alert("Formato de arquivo inv\xe1lido!")}catch(e){alert("Erro ao importar jogadores!")}}},accept:".json",style:{display:"none"}})]})]}),(0,t.jsxs)("div",{className:"config-option mt-4",children:[(0,t.jsx)("h5",{children:"Limpar Dados"}),(0,t.jsxs)("button",{onClick:()=>{confirm("Tem certeza que deseja remover TODOS os jogadores?")&&i([])},className:"btn btn-danger",disabled:0===c.length,children:[(0,t.jsx)(l.g,{icon:r.BeE,className:"me-2"}),"Limpar Todos os Jogadores"]})]})]})}let m=e=>{localStorage.setItem("players",JSON.stringify(e))},h=()=>JSON.parse(localStorage.getItem("players"))||[],x=e=>{localStorage.setItem("playersPerTeam",e.toString())},u=()=>parseInt(localStorage.getItem("playersPerTeam"))||5;function j(){let[e,s]=(0,n.useState)([]),[a,c]=(0,n.useState)(5),[l,r]=(0,n.useState)("players");return(0,n.useEffect)(()=>{s(h()),c(u())},[]),(0,n.useEffect)(()=>m(e),[e]),(0,n.useEffect)(()=>x(a),[a]),(0,t.jsxs)("main",{children:[(0,t.jsxs)("ul",{className:"nav nav-tabs",children:[(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("button",{className:"nav-link ".concat("players"===l?"active":""),onClick:()=>r("players"),children:[(0,t.jsx)("i",{className:"fas fa-users me-2"}),"Jogadores"]})}),(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("button",{className:"nav-link ".concat("teams"===l?"active":""),onClick:()=>r("teams"),children:[(0,t.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Times"]})}),(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsxs)("button",{className:"nav-link ".concat("config"===l?"active":""),onClick:()=>r("config"),children:[(0,t.jsx)("i",{className:"fas fa-cog me-2"}),"Configura\xe7\xf5es"]})})]}),(0,t.jsxs)("div",{className:"container mt-3",children:["players"===l&&(0,t.jsx)(i,{players:e,setPlayers:s}),"teams"===l&&(0,t.jsx)(o,{players:e,setPlayers:s,playersPerTeam:a}),"config"===l&&(0,t.jsx)(d,{playersPerTeam:a,setPlayersPerTeam:c,players:e,setPlayers:s})]})]})}},3826:(e,s,a)=>{Promise.resolve().then(a.bind(a,2641))}},e=>{var s=s=>e(e.s=s);e.O(0,[797,266,190,441,684,358],()=>s(3826)),_N_E=e.O()}]);